# 문체 다듬기 스킬 — 목소리 (Voice)

주어진 글의 문체(톤, 리듬, 서사 구조)를 레퍼런스 문체에 맞춰 수정합니다.

**글의 목소리**를 다듬습니다. 읽는 경험의 질 — 자연스러움, 톤, 리듬, 흐름 — 을 점검합니다.

## 파이프라인 위치

```
/edit-writing → /clarify-writing → ▶ /refine-style → /smooth-flow → /verify-facts → /deep-review → /align-reference
  골격             이해                목소리           흐름            사실             독자 시뮬레이션    레퍼런스 정렬
```

이 스킬은 파이프라인의 **세 번째 단계**입니다:
- 글의 뼈대 → `/edit-writing`
- 독자의 이해 → `/clarify-writing`
- 읽기 흐름 → `/smooth-flow`
- 사실관계 → `/verify-facts`
- 독자 경험 통합 점검 → `/deep-review`
- 레퍼런스 정렬 → `/align-reference`

## 인자
- `$ARGUMENTS`: 수정할 파일 경로 (선택사항). 없으면 사용자에게 파일 또는 텍스트를 요청합니다.

---

## 레퍼런스 문체

아래 특성은 기존 글들에서 추출한 목표 문체입니다. 수정 시 이 특성에 맞추어야 합니다.

---

## 1. 종결어미 다양성

같은 어미가 연속되지 않도록 의식적으로 변화를 줍니다.

### 사용 가능한 어미

| 어미 | 용도 | 예시 |
|------|------|------|
| ~습니다 | 서술/설명 | "패킷을 전달했습니다" |
| ~입니다 | 정의/결론 | "이것이 소켓입니다" |
| ~할까요? | 질문/전환 | "어떻게 구분할까요?" |
| ~있습니다 | 상태/가능성 | "수천 개의 연결이 가능합니다" |
| ~했고, ~하면서 | 절 연결 (문장 내) | "연결되었고, 정보를 공유합니다" |
| ~때문입니다 | 이유 제시 | "커널이 관리하기 때문입니다" |
| ~것입니다 | 재확인 (드물게) | 남용 금지 |

### 금지 패턴: 같은 어미 3회 이상 연속

```
# 나쁜 예
이 변환을 담당합니다.     ← ~합니다
바꿔주는 시스템입니다.     ← ~입니다
분산 데이터베이스입니다.   ← ~입니다  (연속!)

# 좋은 예
이 변환을 담당합니다.
...사용할 수 있었습니다.
어떻게 가능할까요?        ← 변화
```

### 수정 전략

같은 어미가 연속되면 다음 방법으로 변화를 줍니다.

1. **질문으로 전환**: "~합니다" 연속 → 중간에 "~할까요?" 삽입
2. **절 연결로 합치기**: 짧은 "~입니다" 두 개 → "~이며, ~입니다"
3. **이유 제시로 전환**: "~입니다" 연속 → "~때문입니다"
4. **능동/수동 전환**: "관리됩니다" → "관리합니다" (또는 역방향)

### 점검 항목
- [ ] 같은 종결어미가 3회 이상 연속하는 구간이 있는가?
- [ ] 문단 전체가 "~습니다"로만 끝나는가?
- [ ] 질문형 어미가 적절히 활용되고 있는가?

---

## 2. 서사적 도입

글이 정보를 나열하지 않고, 이야기를 풀어나갑니다.

### 핵심 패턴: 배경/문제 → 탐색 → 해결

```
# 정보 나열형 (피해야 할)
DNS(Domain Name System)가 이 변환을 담당합니다.
사람이 읽을 수 있는 이름을 IP 주소로 바꿔주는 시스템입니다.

# 서사형 (목표)
"소켓"이라는 용어는 혼란을 일으키기 쉽습니다.
많은 사람들이 소켓을 "IP 주소와 포트의 조합"이라고 이해합니다.
...
IP:포트는 소켓을 식별하는 데 사용되지만, 소켓 자체는 아닙니다.
```

### 적용 기법

**역사적 내러티브로 도입**
```
# Before
멀티플렉싱은 하나의 채널에 여러 신호를 실어 보내는 기술입니다.

# After
1870년대 전화가 발명되었을 때, 통화를 하려면 교환원에게 요청해야 했습니다.
교환원이 물리적으로 전선을 연결했고, 한 통화에 하나의 전용 회선이 필요했습니다.
이 방식에는 문제가 있습니다. 100명이 동시에 통화하려면 100개의 회선이 필요합니다.
```

**오해 먼저 → 바로잡기**
```
# Before
소켓은 네트워크 연결의 한쪽 끝을 나타내는 커널 객체입니다.

# After
"소켓"이라는 용어는 혼란을 일으키기 쉽습니다.
많은 사람들이 소켓을 "IP 주소와 포트의 조합"이라고 이해합니다.
IP:포트는 소켓을 식별하는 데 사용되지만, 소켓 자체는 아닙니다.
**소켓은 네트워크 연결의 한쪽 끝을 나타내는 커널 객체입니다.**
```

**"왜?" 유발 → 답 제시**
```
# Before
ARPANET은 분산 라우팅 방식을 채택했습니다.

# After
만약 중앙 제어 장치가 모든 경로를 관리한다면,
그 장치가 파괴되는 순간 전체 네트워크가 마비됩니다.
그래서 ARPANET은 분산 라우팅 방식을 채택했습니다.
```

### 점검 항목
- [ ] 섹션이 "A는 B이다" 정의로 시작하는가? → 문제/질문/배경으로 전환
- [ ] 개념이 등장하기 전에 "왜 필요한지"가 제시되는가?
- [ ] 역사적 맥락이 활용 가능한 곳에서 활용되고 있는가?

---

## 3. 연결어 과다

연결어("그러나", "따라서", "한편")가 과도하면 문장이 딱딱해집니다.

### 수정 전략

1. 연결어 없이도 인과가 드러나도록 문장 순서를 조정
2. 연속 3개 이상의 연결어가 등장하면 1~2개 제거
3. "그런데" → 질문으로, "따라서" → 결과를 직접 서술

### 점검 항목
- [ ] 연속된 문단의 시작이 모두 연결어인가?
- [ ] 연결어를 빼도 논리가 성립하는가? → 빼기

---

## 4. 독자와의 거리감

백과사전이 아니라, 옆에서 설명해주는 멘토 톤입니다.

### 비교

| 요소 | 백과사전형 (피해야 할) | 멘토형 (목표) |
|------|----------------------|--------------|
| 개념 도입 | "A는 B이다" | 문제/질문 → "그래서 A가 등장했다" |
| 독자 참여 | 없음 | 질문으로 유도: "왜 3번인가?" |
| 오해 교정 | 없음 | "많은 사람들이 ~라고 이해합니다. 하지만..." |
| 전환 | 섹션 제목만으로 | "앞에서 ~를 살펴봤습니다. 이제..." |
| 결론 | "~라고 할 수 있다" | 핵심을 굵은 글씨로 직접 선언 |

### 적용 기법

**질문으로 독자 참여 유도**
```
# Before
5-tuple로 연결을 식별합니다.

# After
웹 서버에 1000명이 동시에 접속하면, 커널은 1000개의 연결을 어떻게 구분할까요?
5-tuple로 식별합니다.
```

**앞 내용 참조로 연결**
```
앞에서 소켓이 무엇인지, 5-tuple로 어떻게 식별되는지 살펴봤습니다.
이제 실제로 소켓을 다루는 API를 살펴봅니다.
```

### 피해야 할 표현과 대안

멘토 톤을 해치는 교과서적/주관적 표현을 제거합니다.

**교과서적 표현**

| Before | After |
|--------|-------|
| "~라는 것입니다" | 직접 서술 |
| "~것이었습니다" | "~했습니다" |
| "중요한 점은 ~입니다" | 바로 내용 서술 |
| "~라고 할 수 있습니다" | "~입니다" |
| "그런데 여기서 근본적인 질문이 생깁니다" | "하지만 자연스러운 질문이 따라옵니다" |
| "이것이 바로 ~입니다" | 제거하고 직접 설명 |

**주관적/감정적 표현**

| Before | After |
|--------|-------|
| "놀랍게도", "흥미롭게도" | 삭제 |
| "마치 ~처럼" | 실제 원리로 설명 |
| "매우", "상당히", "굉장히" | 삭제 또는 구체적 수치 |
| "놀라운", "중요한", "핵심적인" | 삭제하거나 사실로 보여주기 |

**객관적 문체 원칙**
- 주관적 표현 삼가: "놀라운", "중요한", "매우"
- 비유 삼가: "마치 ~처럼"
- 강조는 구조로 (별도 문단, 굵은 글씨)

### 점검 항목
- [ ] 섹션 전체가 "A는 B이다" 스타일의 정의 나열인가?
- [ ] 독자가 "왜?"를 느낄 수 있는 질문이 적절히 배치되어 있는가?
- [ ] 앞에서 설명한 내용과의 연결이 명시되어 있는가?
- [ ] 교과서적 표현("~라는 것입니다", "중요한 점은")이 남아 있는가?
- [ ] 주관적/감정적 표현("놀랍게도", "매우")이 남아 있는가?
- [ ] 소리 내어 읽었을 때 자연스러운가?

---

## 5. 문장 리듬

짧은 문장과 긴 문장을 교차하며 리듬을 만듭니다.

### 핵심 패턴

```markdown
원리는 간단했습니다. 스위치를 누르면 먼 곳의 전자석이 작동하고, 떼면 꺼집니다.

하지만 여기서 자연스러운 질문이 따라옵니다.

전선 없이도 정보를 보낼 수 있을까요?
```

### 기법

**강조할 문장은 독립된 줄로 분리**
```
# Before
Berkeley Sockets는 빠르게 표준이 되었고, BSD Unix뿐 아니라 Linux, Windows 등
거의 모든 운영체제가 이 API를 채택했습니다.

# After
Berkeley Sockets는 빠르게 표준이 되었습니다.

BSD Unix뿐 아니라 System V Unix, Linux, Windows(Winsock), macOS 등
거의 모든 운영체제가 이 API를 채택했습니다.

40년이 지난 지금도 네트워크 프로그래밍의 기본 인터페이스입니다.
```

**짧은 선언 → 전환 → 설명 재개**
```
기존 IPC로는 불가능했습니다.           ← 짧은 선언
네트워크를 통한 통신을 위한             ← 전환
새로운 추상화가 필요했습니다.
```

### 점검 항목
- [ ] 모든 문장이 비슷한 길이로 나열되어 있는가? → 길이 변화 필요
- [ ] 핵심 문장이 긴 문단 속에 묻혀 있는가? → 독립 줄로 분리
- [ ] 연속된 긴 문장이 3개 이상인가? → 짧은 문장으로 끊기

---

## 6. 섹션 간 전환

섹션 끝에서 다음 섹션의 주제를 자연스럽게 도입합니다. 앞에서 설명한 개념이 뒤에서 활용되도록 글의 흐름과 맥락을 연결합니다.

### 좋은 전환 예시

```markdown
# 이전 내용 요약 → 다음 주제 도입
앞에서 소켓이 무엇인지, 5-tuple로 어떻게 식별되는지 살펴봤습니다.
이제 실제로 소켓을 다루는 API를 살펴봅니다.

# 앞 내용에서 질문 유발 → 다음 섹션에서 답변
[Part 2]에서 TCP 연결의 상태 전이를 살펴보았습니다.
하나의 서버가 수천 개의 클라이언트와 동시에 연결을 유지할 수 있다고 했는데,
물리적 네트워크 연결은 하나뿐입니다. 어떻게 가능할까요?
```

### 나쁜 전환 (하드 점프)

```markdown
---
## 새 주제
(앞 내용과 연결 없이 바로 시작)
```

### 전환 도구

| 패턴 | 예시 |
|------|------|
| 요약 후 전환 | "앞에서 ~를 살펴봤습니다. 이제 ~를 봅니다." |
| 질문으로 전환 | "하지만 ~는 어떻게 가능할까요?" |
| 대조로 전환 | "하지만 이것만으로는 충분하지 않았습니다." |
| 문제 제기로 전환 | "네트워크가 성장하면서 이 방식은 여러 한계에 부딪혔습니다." |

### 연결 기법
- **명시적 연결**: "앞서 살펴본 회절 때문에..."
- **구조적 연결**: 같은 예시(Wi-Fi, 5G)를 반복 사용
- **대조적 연결**: "하지만 이것은 장점만 있는 것이 아닙니다"
- **트레이드오프 명시**: 앞에서 소개한 장점의 대가를 다음 섹션에서 다루기

### 점검 항목
- [ ] 섹션이 앞 내용과 연결 없이 시작하는가? → 브릿지 문장 추가
- [ ] 섹션 도입부에 "이 섹션에서는 ~를 다룹니다" 같은 목차형 문장이 있는가? → 서사적 전환으로 교체
- [ ] 앞에서 설명한 개념이 뒤에서 활용될 때 "앞서 살펴본 것처럼" 등으로 연결되는가?

---

## 7. 핵심 문장의 위치

핵심 문장(결론, 정의, 원칙)은 눈에 띄는 위치에 배치합니다.

### 굵은 글씨 활용

굵은 글씨는 네 가지 용도로만 사용합니다.

**핵심 선언 (독립 줄)**
```markdown
**소켓은 네트워크 연결의 한쪽 끝을 나타내는 커널 객체입니다.**
```

**핵심 철학/원칙 (인용처럼)**
```markdown
Berkeley Sockets의 핵심 철학: **"네트워크 통신도 파일처럼 다루자."**
```

**질문 형태의 전환 (독립 줄)**
```markdown
**다른 컴퓨터에 있는 프로세스와 통신하려면 어떻게 해야 하는가?**
```

**하위 주제 도입 (줄 시작)**
```markdown
**왜 16비트인가?**
**하나의 서버 포트, 수천 개의 연결**
```

### 비유와 실례

비유는 정의 직후에 배치하고, 역사적 맥락은 도입부에 활용합니다.

```markdown
# 정의 → 비유 (정의 직후)
소켓은 네트워크 연결의 한쪽 끝을 나타내는 커널 객체입니다.
전화 통화에 비유하면, 전화번호는 상대방을 식별하지만 통화 자체는 아닙니다.
```

### 점검 항목
- [ ] 굵은 글씨가 위 네 가지 용도 외에 사용되고 있는가?
- [ ] 핵심 선언이 문단 속에 묻혀 있는가? → 독립 줄로 분리
- [ ] 굵은 글씨가 과도하게 많은가? (섹션당 1~3개 적정)
- [ ] 추상적 개념이 비유나 실례 없이 설명되고 있는가?
- [ ] 비유가 정의보다 먼저 등장하는가? → 정의 직후로 이동

---

## 작업 프로세스

### 1단계: 파일 읽기
- `$ARGUMENTS`가 있으면 해당 파일 읽기
- 없으면 사용자에게 파일 경로 또는 텍스트 요청

### 2단계: 종결어미 분석
- 각 문장의 종결어미를 추출
- 같은 어미가 3회 이상 연속하는 구간 식별
- 문단별 어미 다양성 체크

### 3단계: 서사 구조 분석
- 각 섹션이 정보 나열형인지 서사형인지 판단
- "A는 B이다" 패턴으로 시작하는 섹션 식별
- 섹션 간 전환이 하드 점프인지 내러티브 브릿지인지 확인

### 4단계: 톤 분석
- 백과사전형 문장 식별 (정의 나열, 독자 참여 부재)
- 교과서적/주관적 표현 식별
- 굵은 글씨 사용 패턴 확인
- 질문/전환 패턴 활용 여부 체크

### 5단계: 수정
- 종결어미 연속 → 변화 삽입
- 정보 나열형 → 서사형 전환
- 하드 점프 → 내러티브 브릿지 추가
- 백과사전형 → 멘토형 톤 전환
- 교과서적/주관적 표현 → 피해야 할 표현 테이블 적용
- 굵은 글씨 정비
- 흐름과 맥락 연결 확인

### 6단계: 출력
- 수정된 글 전체
- 주요 변경 사항 요약 (카테고리별)

---

## 체크리스트

### 문장 수준
- [ ] 같은 종결어미가 3회 이상 연속하지 않는가?
- [ ] 짧은 문장과 긴 문장이 교차하는가?
- [ ] 핵심 문장이 독립된 줄에 있는가?
- [ ] 교과서적 표현이 제거되었는가?
- [ ] 주관적/감정적 표현이 제거되었는가?
- [ ] 소리 내어 읽었을 때 자연스러운가?

### 섹션 수준
- [ ] 섹션이 서사적 흐름(배경→문제→해결)을 따르는가?
- [ ] 앞 섹션과 내러티브 브릿지로 연결되는가?
- [ ] 독자 참여(질문, 오해-교정)가 적절히 배치되어 있는가?
- [ ] 앞에서 설명한 개념이 뒤에서 활용될 때 명시적으로 연결되는가?

### 글 전체 수준
- [ ] 백과사전형이 아닌 멘토형 톤이 유지되는가?
- [ ] 굵은 글씨가 네 가지 용도(선언, 원칙, 질문, 하위 주제)로만 사용되는가?
- [ ] 비유/실례가 적절한 위치에 배치되어 있는가?
- [ ] 글의 흐름과 맥락이 자연스럽게 이어지는가?
