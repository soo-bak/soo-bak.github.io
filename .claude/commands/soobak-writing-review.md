# 글쓰기 전체 리뷰 파이프라인

5단계 파이프라인을 순서대로 실행하여 글을 완전하게 수정합니다.

```
/edit-writing → /clarify-writing → /refine-style → /verify-facts → /deep-review
   골격            이해               목소리          사실            독자 시뮬레이션
```

## 인자
- `$ARGUMENTS`: 수정할 파일 경로 (필수)

---

## 실행 절차

아래 5단계를 **순서대로** 실행합니다. 각 단계는 이전 단계의 수정 결과 위에서 동작합니다.

### 1단계: 골격 — `/edit-writing`

파일을 읽고 다음을 점검/수정합니다:
- 용어 일관성 (같은 개념에 같은 용어, 첫 등장 시 정의)
- 간결함 (불필요한 반복 제거)
- 문장 명확성 (주어-서술어 호응, 짧은 문장)
- 문단 구조 (한 문단 한 주제)
- 글 구조 패턴 (도입부, 섹션 구분, 마무리)
- 용어 표기 규칙 (**굵은 글씨(영어 원어)**, 약어 처리)

수정 완료 후, 변경 사항을 간략히 요약하고 다음 단계로 넘어갑니다.

### 2단계: 이해 — `/clarify-writing`

1단계 수정 결과 위에서 다음을 점검/수정합니다:
- 설명 순서 ("왜?" → "무엇?" → "어떻게?")
- 순진한 해법 실패 → 진짜 해법 패턴
- 암묵적 전제 (숨겨진 중간 단계)
- 상위 맥락과의 단절
- 미설명 용어
- 추상적 서술 → 구체적 수치/예시
- 누락된 예시
- 밀도 과다 (한 문단 새 개념 3개 이상)
- 누락된 시각화 (다이어그램, 테이블)
- 예외/한계 명시

수정 완료 후, 변경 사항을 간략히 요약하고 다음 단계로 넘어갑니다.

### 3단계: 목소리 — `/refine-style`

2단계 수정 결과 위에서 다음을 점검/수정합니다:
- 종결어미 다양성 (같은 어미 3회 연속 금지)
- 서사적 도입 (정보 나열 → 이야기)
- 연결어 과다
- 독자와의 거리감 (멘토 톤, 교과서적/주관적 표현 제거)
- 문장 리듬 (짧은 문장과 긴 문장 교차)
- 섹션 간 전환 (내러티브 브릿지)
- 핵심 문장의 위치 (굵은 글씨, 비유 배치)

수정 완료 후, 변경 사항을 간략히 요약하고 다음 단계로 넘어갑니다.

### 4단계: 사실 — `/verify-facts`

3단계 수정 결과 위에서 다음을 검증합니다:
- 개념 사실 (표준/RFC와 대조)
- 역사적 사실 (날짜, 인물, 사건)
- 수치 사실 (크기, 제한값, 성능)
- 논리적 정합성 (인과 관계, 반례)
- 예시 정확성 (코드, 설정, 출력)
- 용어 정확성 (번역, 적용 범위)

`WebSearch`로 불확실한 사실을 확인합니다. 검증 보고서(✓/✗/?)를 작성하고 다음 단계로 넘어갑니다.

### 5단계: 독자 시뮬레이션 — `/deep-review`

4단계까지 완료된 글을 개념 단위로 자동 분할하고, 병렬 서브에이전트로 3개 축을 점검합니다:
- 읽기 관성: 독자가 읽기를 멈추는 지점이 있는가?
- 이해 곡선: 이 순서로 읽으면 이해가 자연스럽게 쌓이는가?
- 기대-충족 일치: 제목/도입부의 약속을 본문이 충족하는가?

---

## 단계 간 규칙

- 각 단계는 **파일을 직접 수정**합니다 (Edit 도구 사용).
- 다음 단계는 반드시 이전 단계의 수정이 완료된 후 시작합니다.
- 각 단계 완료 시 변경 사항을 **3~5줄로 요약**합니다.
- YAML 프론트매터는 어떤 단계에서도 수정하지 않습니다.
- 원래 의미를 훼손하지 않습니다.

---

## 최종 출력

모든 단계 완료 후 다음을 출력합니다:

```
## 전체 리뷰 결과

### 단계별 요약
| 단계 | 수정 건수 | 주요 변경 |
|------|----------|----------|
| 1. 골격 | N건 | ... |
| 2. 이해 | N건 | ... |
| 3. 목소리 | N건 | ... |
| 4. 사실 | ✓N / ✗N / ?N | ... |
| 5. 독자 시뮬레이션 | N건 | ... |

### 사실 검증 보고서
(4단계의 ✗, ? 항목 상세)

### 특이사항
(단계 간 충돌이 있었다면 기록)
```
