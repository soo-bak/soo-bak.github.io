# 기술 시리즈 글 작성 커맨드

주어진 주제에 대해 블로그 시리즈 글(2~3파트)을 처음부터 작성합니다.

## 인자

- `$ARGUMENTS`: 시리즈 주제 (필수)
  - 예: "TCP 혼잡 제어의 역사와 알고리즘"
  - 예: "컨테이너 네트워킹"
  - 예: "gRPC와 프로토콜 버퍼"

---

## 전체 프로세스

```
1. 시리즈 설계  →  2. 파트별 작성  →  3. 교차 참조 완성  →  4. 자기 검증
```

---

## 1단계: 시리즈 설계

주제를 분석하여 시리즈 전체 구조를 설계합니다.

### 작업

1. WebSearch로 주제의 핵심 개념, 역사, 하위 주제를 조사합니다.
2. **주제 유형을 분류합니다** (아래 프로파일 참조).
3. 파트 수를 결정합니다 (2~3개).
4. 각 파트의 부제와 다루는 범위를 결정합니다.
5. 파트 간 진행 패턴을 결정합니다:
   - Part 1: 기초/역사 (왜 필요한가, 어디서 왔는가)
   - Part 2: 메커니즘/심화 (어떻게 동작하는가)
   - Part 3: 응용/현대 (실제로 어떻게 쓰이는가, 한계와 미래)
6. 기존 블로그 글과의 관계를 파악합니다 (교차 참조 대상 식별).

### 주제 유형 분류 및 정량 프로파일

주제를 **내용 유형**과 **전개 유형** 2가지 축으로 분류합니다. 각 축이 결정하는 항목이 다릅니다.

**내용 유형** (무엇을 다루는가) — **수사적 질문, 현실 비유** 범위를 결정:
- **물리/수학**: 무선 통신, 신호 처리, 암호학 원리
- **알고리즘/구조**: 라우팅, 로드밸런싱, 데이터 구조, 소켓
- **프로토콜/시스템**: HTTP, DNS, TLS, 컨테이너 네트워킹

**전개 유형** (어떻게 풀어내는가) — **순진한 해법, 하지만/그런데, 시각화, 트레이드오프** 범위를 결정:
- **서사적**: 시간순 진행, 진화 이야기, 역사적 맥락 중심
- **분석적**: 구조/비교 중심, 메커니즘 분해, 수식 전개 중심

#### 내용 유형별 범위 (수사적 질문, 현실 비유)

| 내용 유형 | 수사적 질문 | 현실 비유 |
|-----------|-----------|----------|
| 물리/수학 | 0~2회 | 0~8개 |
| 알고리즘/구조 | 1~6회 | 0~3개 |
| 프로토콜/시스템 | 0~5회 | 0~3개 |

- 물리/수학은 수식 전개가 질문 역할을 대신하므로 질문이 적고, 일상에서 관찰 가능한 현상이 많아 비유가 풍부합니다.
- 알고리즘/구조는 "이렇게 하면?" 형태의 질문이 자연스러워 질문이 많고, 추상적이라 비유가 적습니다.

#### 전개 유형별 범위 (순진한 해법, 전환, 시각화, 트레이드오프)

| 전개 유형 | 순진한 해법 | 하지만/그런데 | 시각화 | 트레이드오프 |
|-----------|-----------|-------------|--------|------------|
| 서사적 | 1~5회 | 3~13회 | 13개+ | 2회+ |
| 분석적 | 1~3회 | 0~8회 | 10개+ | 2회+ |

- 서사적 전개는 문제→실패→해결 스토리가 자연스러워 순진한 해법과 전환이 많습니다.
- 분석적 전개는 구조 분해 중심이라 전환이 적을 수 있습니다.

#### 프로파일 적용 방법

각 파트마다 내용 유형과 전개 유형을 **독립적으로** 판단합니다.

```
예: HTTP의 진화 (2) - HTTP/3과 QUIC
  내용 유형: 프로토콜/시스템 → 질문 0~5, 비유 0~3
  전개 유형: 분석적 (Part 2, 기술 비교 중심) → 순진 1~3, 전환 0~8
```

같은 시리즈라도 파트별로 전개 유형이 달라질 수 있습니다. Part 1이 서사적이고 Part 2가 분석적인 경우, 각 파트의 실제 전개 유형을 적용합니다.

### 메타데이터 결정

- 파일명: `YYYY-MM-DD-[SeriesName-N].md`
- 카테고리 디렉토리: 주제에 맞는 `dev/` 하위 디렉토리
- YAML 프론트매터:
  ```yaml
  ---
  layout: single
  title: "시리즈명 (N) - 부제 - soo:bak"
  date: "YYYY-MM-DD HH:MM:SS +0900"
  description: 핵심 개념 3~5개 나열, "~을 설명합니다"로 종결
  tags:
    - 상위 카테고리 (예: 네트워크)
    - 핵심 기술 용어 3~4개
  ---
  ```

### 출력

시리즈 설계 요약을 사용자에게 보여줍니다:
- 파트별 부제, 범위, 핵심 개념, 예상 섹션 구성
- 사용자 확인 후 2단계로 진행

---

## 2단계: 파트별 작성

각 파트를 순서대로 작성합니다. 이전 파트의 내용을 기반으로 다음 파트를 작성합니다.

---

### 2-A. 도입부 작성

#### Part 1 도입부 (15~40줄)

패턴 A, B, C 중 주제에 맞는 것을 선택합니다.

**패턴 A — 역사적 서사:**
```
[역사적 사건/인물] → [원리/발견] → [자연스러운 질문] → [한계/새 문제]
```
예: "1837년, 새뮤얼 모스는..." → "원리는 간단했습니다" → "전선 없이도?" → "1864년, 맥스웰은..."

**패턴 B — 문제-탐색:**
```
[기존 방식] → [한계] → [핵심 질문] → [새 접근 필요]
```
예: "1970년대 Unix에서..." → "같은 컴퓨터 안에서만" → "다른 컴퓨터와 통신하려면?" → "새로운 추상화가 필요"

**패턴 C — 크로스 시리즈 연결:**
```
[관련 시리즈 참조] → [거기서 다룬 원리] → [새 관점/심화 질문] → [이 시리즈의 범위]
```
예: "[네트워크 통신의 원리 (1)](/경로/)에서 전자기파의 기본 특성을 살펴보았습니다." → 마르코니 실험 → "무선 채널은 유선과 어떻게 다를까?" → 경로 손실, 페이딩, 스펙트럼
- 다른 시리즈의 개념 위에 새 시리즈를 쌓을 때 사용

#### Part 2, 3 도입부 (10~20줄)

- `[Part N-1](/경로/)에서 ~를 살펴보았습니다.` 로 시작
- 이전 파트의 핵심을 1~2문장으로 요약
- 새로운 질문 제시 ("하지만 ~는 어떻게 될까요?")
- 이 글에서 다룰 내용 예고

---

### 2-B. 본문 섹션 작성

각 섹션(##)을 작성할 때 아래 규칙을 모두 적용합니다.

#### 최우선 원칙: 정보 완전성 > 이해 용이성

이해하기 쉬운 글을 쓰되, **구체적 정보를 생략하는 방식으로 이해도를 높이지 않습니다.**
이해도는 정보를 빼서가 아니라, 설명을 더해서 높입니다.

**금지 패턴:**
- 수치/사양을 생략하고 "~정도"로 뭉뚱그림 → 구체적 수치를 쓰고, 직관을 덧붙임
- 복잡한 메커니즘을 비유로만 대체 → 비유를 먼저 쓰고, 기술적 설명을 반드시 뒤따름
- 예외/한계를 언급하지 않고 핵심만 전달 → 핵심을 먼저 쓰고, 예외/한계를 이어서 명시
- 중간 단계를 건너뛰어 설명을 짧게 만듦 → 모든 단계를 쓰고, 단계별 설명을 쉽게 풀어냄
- 정확한 용어 대신 쉬운 표현만 사용 → 쉬운 표현으로 도입하고, 정확한 용어를 바로 제시

**올바른 패턴:**
```
✗ "높은 주파수를 사용하면 안테나가 작아집니다."
✓ "900MHz 안테나는 약 8cm, 2.4GHz는 약 3cm입니다. 주파수가 높을수록 파장이 짧아지고(λ = c/f), 안테나 길이는 파장에 비례하기 때문입니다."

✗ "TCP는 신뢰성을 보장하는 프로토콜입니다."
✓ "TCP는 순서 번호(Sequence Number)와 확인 응답(ACK)으로 패킷 손실을 감지하고, 재전송으로 복구합니다. 대신 이 과정에서 지연이 발생합니다."
```

요약: **쉽게 쓰되, 빼지 않습니다. 어려운 내용은 더 설명합니다.**

#### ### 하위 섹션 사용 기준

- 하나의 ## 섹션이 3개 이상의 독립적 하위 개념을 포함할 때 ###를 사용
  - 예: 소켓 API 함수들(socket, bind, listen, accept, connect)을 각각 ### 섹션으로
  - 예: 프로토콜 스택의 각 계층을 각각 ### 섹션으로
- 병렬적 내용(API/함수 나열, 유형별 비교, 계층별 설명)에 적합
- 연속적 서사 전개에서는 ###를 사용하지 않음
  - 예: HTTP/0.9 → /1.0 → /1.1 → /2 진화 이야기는 각각 ##로 유지
- 글 전체에서 ###가 0개(서사적 전개)이거나 6~13개(구조적 전개)일 수 있음

#### 설명 구조

**개념 도입 순서 — "왜→무엇→어떻게":**
- 정의부터 시작하지 않음. 반드시 동기/문제를 먼저 제시
- 예: "DNS 조회는 어떻게 이루어질까요?" (동기) → "재귀적 질의란..." (정의) → "리졸버가..." (메커니즘)

**순진한 해법 패턴 (횟수는 주제 유형 프로파일 참조):**
```
[문제] → [직관적이지만 불완전한 접근] → [실패 이유] → [진짜 해법]
```
- 독자가 "이렇게 하면 되지 않나?"를 느끼는 지점에서 사용
- 실패 이유를 구체적으로 보여준 후 진짜 해법 제시 → 독자의 성취감 유발
- 예: "2번 교환이면 충분하지 않나?" → 유령 연결 문제 → "3번째 ACK가 필요합니다"
- 물리/수학형 주제에서는 자연스러운 경우에만 사용 (억지로 만들지 않음)

**단계적 복잡도 (레이어링):**
```
간단한 모델 → 제약 발견 → 개선된 모델 → 최종 형태
```
- 한 번에 최종 형태를 보여주지 않음
- 각 단계에서 이전 단계의 한계를 명확히 하고 개선점을 설명
- 예: AM(단순) → FM(잡음 강함) → PM(디지털 적합) → QAM(진폭+위상)

#### 직관적 이해

**익숙→새로움 연결:**
- 새 개념 도입 시 독자가 이미 아는 것에서 출발
- "Unix에서 파일을 열면 번호를 받습니다. 소켓도 마찬가지입니다." (파일 I/O → 소켓)
- "소리는 공기 진동이라 진공에서 전달 안 됩니다. 반면 전자기파는..." (익숙 → 새로움)

**구체적 숫자로 직관 형성:**
- 추상적 설명 대신 숫자가 말하게 함
- 불합리성: "3000Hz의 안테나 길이는 25km. 이런 안테나는 만들 수 없습니다."
- 합리성: "FM 파장은 3미터. 안테나 75cm. 자동차에 장착할 수 있는 크기입니다."
- 규모감: "0.2dB/km(광섬유) vs 수십 dB/km(구리선)"

**시각화 (글당 8개 이상):**
- 텍스트만으로 부족한 부분을 시각 요소가 채움
- 과정/흐름: ASCII 다이어그램 (화살표, 타임라인)
- 구조/패킷: 박스 다이어그램 (┌─┐ 형태)
- 비교: 테이블 (| A | B | 형태)
- 수식/알고리즘: 코드 블록
- 계층: 트리 다이어그램
- 다이어그램은 앞뒤 텍스트와 함께 읽으면 완전히 이해되도록 구성

#### 생략 없는 정보 전달

**인과 완전성:**
- A→C를 주장할 때, 중간 단계 B를 반드시 명시
- "주파수가 높으면 파장이 짧다" ← "c = f × λ이고 c는 상수이므로" (전제 명시)
- "서버는 bind()가 필수" ← "클라이언트가 서버 주소를 알아야 하므로" ← "매번 다른 포트면 접속 불가"

**암묵적 전제 처리:**
- 독자에게 자명하지 않을 수 있는 전제를 대비 설명으로 풀어냄
- "소리는 공기가 필요합니다(익숙한 전제). 반면 전자기파는 필요 없습니다(새 사실)."
- "A이므로 C이다" 문장을 쓸 때마다 "독자가 A→C를 스스로 추론할 수 있는가?" 점검

**용어 완전 처리:**
- 모든 새 용어/약어가 첫 등장 시 반드시 정의됨
- 첫 등장: **한글(English)** (예: **전자기파(Electromagnetic Wave)**)
- 이후: 한글만 사용
- 약어: 첫 등장 시 풀네임(약어), 이후 약어만
- 정의 없이 등장하는 용어가 있으면 안 됨

**부연의 기준:**
- "왜?"에 답해야 할 때: 부연 추가
- 수식/다이어그램으로 이미 설명된 것: 한 문장 정리로 충분
- 예시의 수: 개념이 하나면 1개, 스펙트럼/범위가 있으면 각 대표값마다 1개씩

#### 독자 경험 설계

**호기심 루프 (횟수는 주제 유형 프로파일 참조):**
- 질문을 던지고 3~5줄 후에 답변
- 독자가 "그래, 어떻게?"를 가진 정확히 그 시점에 충족
- "~할까요?", "어떻게 ~할 수 있을까요?" 형식
- 새 개념 도입 직전/문제 제시 지점에 배치
- 물리/수학형 주제에서는 수식 전개가 질문 역할을 대신하므로, 수사적 질문을 억지로 삽입하지 않음

**긴장감 구축:**
- "하지만 문제가 있습니다", "그런데 여기서 ~" 같은 전환점으로 독자 주의 유지
- 순진한 해법이 실패하는 순간이 긴장감의 정점
- 진짜 해법이 등장하면 긴장 해소 + 성취감

**읽기 속도 조절:**
- 짧은 문장으로 템포 올림: "원리는 간단했습니다. 스위치를 누르면 전자석이 작동하고, 떼면 꺼집니다."
- 긴 설명으로 깊이 들어감: 복합 메커니즘, 수식 전개 구간
- 짧은 문장 → 긴 설명 → 짧은 정리 패턴 반복

**트레이드오프 (횟수는 주제 유형 프로파일 참조):**
- "A는 ~하지만 B는 ~합니다" 직접 대비
- 장점만 나열하지 않음. 반드시 한계/비용을 함께 제시
- 비교 테이블로 정리하면 더 명확

**현실 비유 (횟수는 주제 유형 프로파일 참조):**
- 독자가 아는 것 → 새 개념 연결
- 예: 전화 통화, 우편 시스템, 은행 거래
- 비유 후 바로 기술적 설명으로 전환 (비유에 머물지 않음)
- 서사/진화형, 알고리즘/구조형 주제에서는 비유 없이 구체적 기술 예시가 비유를 대신할 수 있음

#### 연결과 흐름

**섹션 간 연결:**
- 섹션 시작마다 이전 섹션 내용 요약 연결
  - "앞서 살펴본 것처럼, ~"
  - "앞에서 ~를 살펴봤습니다. 이제 ~"
- 단순 연결어가 아니라 이전 핵심을 요약하면서 전환

**`<br>` 배치:**
- 같은 개념 내 연속 문단 사이: `<br>` 없음
- 개념 전환점: `<br>` 배치
- 섹션 제목 직전/직후: `<br>` 없음
- 밀도는 고정하지 않음. 개념 전환의 빈도에 따라 자연스럽게 결정
  - 수식이 많은 물리/수학형: 전환이 잦아 `<br>`가 더 많을 수 있음
  - 서사가 긴 진화형: 흐름이 길어 `<br>`가 더 적을 수 있음

#### 문체

**자연스러운 톤:**
- 멘토가 설명하는 듯한 자연스러운 톤
- 교과서적/주관적 표현 배제
- 구어체적 자연스러움: "이런 안테나는 만들 수 없습니다", "40년이 지난 지금도"
- 감정적 접지: 기술적 사실에 인간적 무게 부여 ("결국 대부분의 브라우저는 사용하지 않고")

**종결어미:**
- ~습니다/합니다 중심 (60~72%)
- 같은 어미 3회 이상 연속 시 다른 어미로 변화 (~것입니다, ~입니다, ~됩니다, ~까요? 등)

**문장 길이:**
- 짧은 문장(1줄) 40%, 중간(2줄) 30%, 긴 문장(3줄+) 30% 비율 목표
- 짧은 문장과 긴 문장을 교차

**Bold 사용:**
- 용어 첫 등장 시 **한글(English)** 형식에만 사용
- 핵심 원리/관계식 강조에도 사용
- 느낌표 사용 안 함

**서사적 흐름:**
- 정보 나열이 아닌 이야기로 읽히도록 구성
- 시간순 진행 또는 문제→해결 스토리텔링
- 각 섹션이 "왜 이 다음에 이것이 나오는가"가 자연스럽게 느껴져야 함

---

### 2-C. 마감 섹션 작성

마감 패턴을 **불릿형** 또는 **산문형** 중 선택합니다.

#### 불릿형 마감 (다룬 개념이 5개 이상으로 나열 가능할 때)

```markdown
## 마무리

이 글에서 살펴본 내용을 정리하면:

- 핵심 포인트 1
- 핵심 포인트 2
- 핵심 포인트 3
- 핵심 포인트 4
- 핵심 포인트 5

(성찰적 문단: 핵심 포인트를 연결하거나 의미를 부여하는 1~2문장)
```

#### 산문형 마감 (하나의 흐름으로 정리하는 것이 자연스러울 때)

```markdown
## 마무리

(핵심 논지를 연결하는 1~2문단 산문. 글 전체를 관통하는 원리를 한 문장으로 압축한 뒤,
그 위에 쌓인 개념들이 어떻게 연결되는지 풀어냄.)
```

#### 마감 뒤 공통 구조

```markdown
(내러티브 브릿지: 현재 글 요약 + 호기심 유발 질문 + 다음 글 링크)
[Part N+1](/경로/)에서는 ~를 살펴봅니다. (다룰 내용 구체적 나열)

<br>

---

**관련 글**
- [타 시리즈 관련 글](/경로/)

**시리즈**
- 시리즈명 (1) - 부제 (현재 글)  ← Part 1인 경우
- [시리즈명 (2) - 부제](/경로/)
- [시리즈명 (3) - 부제](/경로/)
```

**마지막 파트의 마감:**
- 내러티브 브릿지 대신 시리즈 전체를 되돌아보는 문단
- 다음 글 링크 없음

---

## 3단계: 교차 참조 완성

모든 파트 작성 후:
- 각 파트의 `**시리즈**` 섹션에 전체 파트를 나열합니다.
- 현재 글에 "(현재 글)" 표시를 합니다.
- `**관련 글**`에 타 시리즈 관련 글을 추가합니다.
- 기존 블로그 글 중 관련 글이 있으면 `**관련 글**`에 포함합니다.

### 푸터 섹션 구조

기본 구조:
```markdown
**관련 글**
- [직접 관련된 타 시리즈 글](/경로/)

**시리즈**
- 시리즈명 (1) - 부제 (현재 글)
- [시리즈명 (2) - 부제](/경로/)
```

기반 시리즈(다른 시리즈의 전제가 되는 시리즈)인 경우, `**심화 시리즈**` 섹션을 추가할 수 있습니다:
```markdown
**심화 시리즈**
- [파생 시리즈 1](/경로/)
- [파생 시리즈 2](/경로/)
```

---

## 4단계: 자기 검증

각 파트를 아래 체크리스트로 검증합니다. 검증 실패 시 해당 부분을 수정 후 재검증합니다.

### 구조

- [ ] 총 줄 수 400~900줄
- [ ] ## 섹션 6~17개
- [ ] ### 사용이 적절한가 (병렬적 내용이면 사용, 서사적 전개면 미사용)
- [ ] YAML 프론트매터 5개 필드 (layout, title, date, description, tags)
- [ ] title: "시리즈명 (N) - 부제 - soo:bak"
- [ ] description: "~을 설명합니다"로 종결

### 도입부

- [ ] Part 1: 15줄 이상, 역사적 서사 / 문제-탐색 / 크로스 시리즈 연결 패턴
- [ ] Part 2,3: 이전 파트 참조 + 새 질문

### 설명방식 (2축 프로파일 기준으로 검증)

- [ ] "왜→무엇→어떻게" 순서 준수
- [ ] 순진한 해법→실패→진짜 해법 패턴 (**전개 유형별** 범위 충족)
- [ ] 단계적 복잡도 (간단→제약→개선→최종) 적용
- [ ] 시각화 요소 (**전개 유형별** 범위 충족, ASCII + 코드 + 테이블)
- [ ] 수치 그라운딩 9회 이상
- [ ] 트레이드오프 설명 (**전개 유형별** 범위 충족, 장점만 나열하지 않음)
- [ ] 현실 비유 (**내용 유형별** 범위 충족, 억지 비유 없음)

### 직관적 이해

- [ ] 새 개념 도입 시 독자가 아는 것에서 출발
- [ ] 숫자로 불합리성/합리성을 직관적으로 느끼게 함
- [ ] 다이어그램이 텍스트의 부족한 부분을 보완

### 독자 경험 (2축 프로파일 기준으로 검증)

- [ ] 호기심 루프: 수사적 질문 (**내용 유형별** 범위 충족), 질문 후 1~3문장 내 답변
- [ ] 긴장감 구축: "하지만"/"그런데" 전환점 (**전개 유형별** 범위 충족)
- [ ] 성취감 설계: 순진한 해법 실패 후 진짜 해법에서 깨달음
- [ ] 읽기 속도 조절: 짧은 문장↔긴 설명 교차

### 생략 없는 정보 (정보 완전성 > 이해 용이성)

- [ ] A→C 사이의 중간 단계 B 명시 (인과 완전성)
- [ ] 암묵적 전제 처리 (독자가 모를 수 있는 전제 풀어냄)
- [ ] 모든 새 용어/약어가 첫 등장 시 정의됨
- [ ] 논리적 중간 단계 생략 없음
- [ ] **정보 희생 없음**: 이해도를 위해 수치/사양/메커니즘/예외를 생략한 곳이 없는가?
  - 비유만 있고 기술 설명이 없는 곳 → 기술 설명 추가
  - "~정도"로 뭉뚱그린 수치 → 구체적 값으로 교체
  - 예외/한계 없이 장점만 서술한 곳 → 예외/한계 추가
  - 중간 단계를 생략하여 짧아진 설명 → 단계 복원

### 문체

- [ ] 같은 종결어미 3회 이상 연속 없음
- [ ] Bold는 용어 첫 등장/핵심 원리에만 사용
- [ ] 연결어 ("앞서", "하지만") 자연스럽게 분포
- [ ] `<br>` 개념 전환점에만 배치 (밀도는 주제에 따라 자연스럽게)
- [ ] 구어체적 자연스러움 ("이런 ~는 불가능합니다" 등)
- [ ] 서사적 흐름 (정보 나열이 아닌 이야기로 읽힘)

### 마감

- [ ] `## 마무리` 제목
- [ ] 불릿형(개념 5개+) 또는 산문형(흐름 정리) 중 적절한 패턴 선택
- [ ] 성찰적 문단 또는 통합 산문
- [ ] 내러티브 브릿지 (마지막 파트 제외)
- [ ] `**관련 글**` 섹션 (타 시리즈 관련 글)
- [ ] `**시리즈**` 섹션, 현재 글 "(현재 글)" 표시
- [ ] 기반 시리즈인 경우 `**심화 시리즈**` 섹션 추가 여부 검토
