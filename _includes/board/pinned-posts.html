{% comment %}
  게시판 인기 글(고정 글) 컴포넌트

  Parameters:
    - posts: 포스트 배열
    - show_subcategory: 하위 분류 라벨 표시 여부 (true/false)
    - limit: 표시할 최대 고정 글 수 (기본값: 3)
{% endcomment %}

{% assign pinned_posts = "" | split: "" %}
{% assign limit = include.limit | default: 3 %}

{% for post in include.posts %}
  {% if post.pin %}
    {% if pinned_posts.size < limit %}
      {% assign pinned_posts = pinned_posts | push: post %}
    {% endif %}
  {% endif %}
{% endfor %}

{% if pinned_posts.size > 0 %}
<div class="board__pinned">
  <h4 class="board__pinned-title"><i class="fas fa-thumbtack"></i> 인기 글</h4>
  <ul class="board__post-list board__post-list--pinned">
    {% for post in pinned_posts %}
      {% include board/post-row.html post=post show_subcategory=include.show_subcategory %}
    {% endfor %}
  </ul>
</div>
{% endif %}
