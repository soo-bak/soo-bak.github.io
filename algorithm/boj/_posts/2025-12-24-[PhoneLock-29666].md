---
layout: single
title: "[백준 29666] Блокировка телефона (C#, C++) - soo:bak"
date: "2025-12-24 12:30:00 +0900"
description: "백준 29666번 C#, C++ 풀이 - 키패드에서 세 숫자가 같은 행/열에 연속이면 해제되는지 판별하는 문제"
tags:
  - 백준
  - BOJ
  - 29666
  - C#
  - C++
  - 알고리즘
  - 구현
keywords: "백준 29666, 백준 29666번, BOJ 29666, PhoneLock, C# 풀이, C++ 풀이, 알고리즘"
---

## 문제 링크
[29666번 - Блокировка телефона](https://www.acmicpc.net/problem/29666)

## 설명
입력된 세 숫자가 키패드에서 가로 또는 세로로 연속한 위치에 있는지 확인하는 문제입니다.

<br>

## 접근법
키패드를 3×4 격자로 보고 각 숫자의 행과 열 좌표를 구합니다.

이후 세 숫자가 모두 서로 다르면서, 같은 행에서 열이 연속하거나 같은 열에서 행이 연속하면 Unlocked, 그렇지 않으면 Locked를 출력합니다.

- - -

## Code

### C#
```csharp
using System;

class Program {
  static void Pos(int d, out int r, out int c) {
    if (d == 0) { r = 3; c = 1; return; }
    d -= 1;
    r = d / 3;
    c = d % 3;
  }

  static void Main() {
    var line = Console.ReadLine()!;
    var parts = line.Split(' ', StringSplitOptions.RemoveEmptyEntries);
    var s = parts.Length == 1 ? parts[0] : string.Concat(parts);

    var a = s[0] - '0';
    var b = s[1] - '0';
    var c = s[2] - '0';
    if (a == b || b == c || a == c) {
      Console.WriteLine("Locked");
      return;
    }

    Pos(a, out var r1, out var c1);
    Pos(b, out var r2, out var c2);
    Pos(c, out var r3, out var c3);

    bool ok = false;
    if (r1 == r2 && r2 == r3) {
      var cols = new[] { c1, c2, c3 };
      Array.Sort(cols);
      ok = cols[0] + 1 == cols[1] && cols[1] + 1 == cols[2];
    } else if (c1 == c2 && c2 == c3) {
      var rows = new[] { r1, r2, r3 };
      Array.Sort(rows);
      ok = rows[0] + 1 == rows[1] && rows[1] + 1 == rows[2];
    }

    Console.WriteLine(ok ? "Unlocked" : "Locked");
  }
}
```

### C++
```cpp
#include <bits/stdc++.h>
using namespace std;

void pos(int d, int& r, int& c) {
  if (d == 0) { r = 3; c = 1; return; }
  d -= 1;
  r = d / 3;
  c = d % 3;
}

int main() {
  ios::sync_with_stdio(false);
  cin.tie(nullptr);

  string s; cin >> s;
  if (s.size() == 1) {
    string s2, s3; cin >> s2 >> s3;
    s += s2 + s3;
  }

  int a = s[0] - '0';
  int b = s[1] - '0';
  int c = s[2] - '0';
  if (a == b || b == c || a == c) {
    cout << "Locked\n";
    return 0;
  }

  int r1, c1, r2, c2, r3, c3;
  pos(a, r1, c1);
  pos(b, r2, c2);
  pos(c, r3, c3);

  bool ok = false;
  if (r1 == r2 && r2 == r3) {
    int cols[3] = {c1, c2, c3};
    sort(cols, cols + 3);
    ok = cols[0] + 1 == cols[1] && cols[1] + 1 == cols[2];
  } else if (c1 == c2 && c2 == c3) {
    int rows[3] = {r1, r2, r3};
    sort(rows, rows + 3);
    ok = rows[0] + 1 == rows[1] && rows[1] + 1 == rows[2];
  }

  cout << (ok ? "Unlocked" : "Locked") << "\n";

  return 0;
}
```
