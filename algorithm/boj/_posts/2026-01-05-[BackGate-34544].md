---
layout: single
title: "[백준 34544] 후문으로 (C#, C++) - soo:bak"
date: "2026-01-05 21:10:00 +0900"
description: "백준 34544번 C#, C++ 풀이 - 지하층을 고려한 층수 이동을 누적해 정문에서 후문까지의 상대적 층수를 구하는 문제"
tags:
  - 백준
  - BOJ
  - 34544
  - C#
  - C++
  - 알고리즘
  - 구현
  - 수학
  - 시뮬레이션
  - 사칙연산
keywords: "백준 34544, 백준 34544번, BOJ 34544, 후문으로, C# 풀이, C++ 풀이, 알고리즘"
---

## 문제 링크
[34544번 - 후문으로](https://www.acmicpc.net/problem/34544)

## 설명
정문을 상대 1층으로 시작하여 N개의 건물을 순서대로 통과하는 문제입니다.

각 건물에서는 A층으로 들어가 B층으로 나오는 만큼 상대 층수가 변하며, 0층은 없고 지하는 -1층이 지하 1층입니다.

<br>

## 접근법
먼저 0층이 없으므로 -1층과 1층의 차이는 1입니다. 이를 연속적인 축으로 변환하기 위해 양수 층은 그대로 사용하고, 음수 층은 1을 더해 변환합니다.

다음으로 각 건물을 통과할 때마다 층수 변화를 계산합니다. A층으로 들어가 B층으로 나오므로, 변환된 값에서 B층의 변환값에서 A층의 변환값을 뺀 만큼 층수가 변합니다. 이 변화량을 현재 층에 누적하여 계속 추적합니다.

이후 최종 변환값을 실제 층수로 되돌립니다. 변환값이 양수이면 그대로 사용하고, 0 이하이면 1을 빼서 변환합니다.

<br>

- - -

## Code

### C#
```csharp
using System;

class Program {
  static int ToIdx(int f) {
    return f > 0 ? f : f + 1;
  }

  static int FromIdx(int idx) {
    return idx > 0 ? idx : idx - 1;
  }

  static void Main() {
    var n = int.Parse(Console.ReadLine()!);
    var cur = 1;
    for (var i = 0; i < n; i++) {
      var parts = Console.ReadLine()!.Split();
      var a = int.Parse(parts[0]);
      var b = int.Parse(parts[1]);
      cur += ToIdx(b) - ToIdx(a);
    }
    Console.WriteLine(FromIdx(cur));
  }
}
```

### C++
```cpp
#include <bits/stdc++.h>
using namespace std;

int toIdx(int f) {
  return f > 0 ? f : f + 1;
}

int fromIdx(int idx) {
  return idx > 0 ? idx : idx - 1;
}

int main() {
  ios::sync_with_stdio(false);
  cin.tie(nullptr);

  int n; cin >> n;

  int cur = 1;
  for (int i = 0; i < n; i++) {
    int a, b; cin >> a >> b;
    cur += toIdx(b) - toIdx(a);
  }

  cout << fromIdx(cur) << "\n";

  return 0;
}
```
